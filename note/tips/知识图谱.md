# 1 知识图谱

## 1.1 知识图谱技术内涵

![image-20221221172455047](C:\Users\jyh\AppData\Roaming\Typora\typora-user-images\image-20221221172455047.png)

![image-20221221172700053](C:\Users\jyh\AppData\Roaming\Typora\typora-user-images\image-20221221172700053.png)

### 1.1.1 表示

有向标记图(Directed-Labeled Graph):最简单、最接近自然语言的和人脑认知的数据模型

RDF(Resource Description Framework):资源描述框架，用主谓宾三元描述关系

(subject,predicate,object)

### 1.1.2 储存

图数据库充分利用图的结构建立微索引，这种微索引比起关系数据库的全局索引在处理图遍历查询时更加廉价，其查询复杂度与数据集整体大小无关，仅正比于相邻子图的大小。

![image-20221221173617717](C:\Users\jyh\AppData\Roaming\Typora\typora-user-images\image-20221221173617717.png)

### 1.1.3 抽取

- 从不同来源、不同结构的数据中进行知识提取，形成知识存入到知识图谱
- 一般依赖已有的结构化数据
- 文本一般不作为知识图谱构建的初始来源，而多用来做知识图谱补全

![image-20221221173755194](C:\Users\jyh\AppData\Roaming\Typora\typora-user-images\image-20221221173755194.png)

### 1.1.4 融合

即合并两个知识图谱(本体)，基本的问题都是研究怎样将来自多个来源的关于同一个实体或概念的描述信息融合起来。需要确认的是：

- **等价实例**

- 等价类/子类

- 等价属性/子属性

### 1.1.5 推理

面向知识图谱的推理主要围绕关系的推理展开，即基于图谱中已有的事实或关系推断出未知的事实或关系，一般着重考察**实体、关系和图谱结构**三个方面的特征信息。具体来说，知识图谱推理主要能够辅助推理出新的事实、新的关系、新的公理以及新的规则等。

- 基于符号逻辑的推理方法：OWL Reasoners Datalog Rete

- 基于图结构或者表示学习的推理方法：PRA AMIE TransE Analogy DeepPath NeuralLP



![image-20221221175038483](C:\Users\jyh\AppData\Roaming\Typora\typora-user-images\image-20221221175038483.png)

![image-20221221175204632](C:\Users\jyh\AppData\Roaming\Typora\typora-user-images\image-20221221175204632.png)

## 1.2 知识表示

知识表示(knowledge reprentation):用易于计算机处理的方式来描述人脑的知识的方法。

KR不是数据格式，不等同于数据结构，也不是编程语言，对于人工智能而言，数据与知识的区别在于KR支持推理

- 客观事物的机器标识
- 一组本体约定的概念模型
- 支持推理的表示基础
- 用于高效计算的数据结构
- 人可理解的机器语言

![image-20221221181507472](C:\Users\jyh\AppData\Roaming\Typora\typora-user-images\image-20221221181507472.png)

- 知识图谱促进多模态融合

- 智能的精华是怎样实现推理，推理的关键是形式化逻辑
- “学习”需要我们清楚的知道要学习的是什么，那些认为任何东西都可以学习出来的想法是愚蠢的
- 大脑中并没有符合和图像的存储，而是一些Big Activity Vectors之间相互发生作用

### 1.2.1 发展历程

<img src="C:\Users\jyh\AppData\Roaming\Typora\typora-user-images\image-20221221182152350.png" alt="image-20221221182152350" style="zoom:67%;" />

- 一阶谓词逻辑(First-Order Logic)
  - Horn Logic
  - 描述逻辑 Description Logic
- 语义网络(Semantic Net)
- 产生式规则(Production Rule)
- 框架系统(Framework)
- 描述逻辑(Description Logic)

#### 1 描述逻辑

描述逻辑是一阶谓词逻辑的可判定子集，主要用于描述本体概念和属性，对于本体知识库的构建提供了便捷的表达形式，是与知识图谱最密切相关的知识表示方法之一

- 核心表达要素：
  - 概念Concepts：解释为一个领域的子集 {x|Studnet(x)},{x|Married(x)}
  - 关系Relations：解释为该领域上的二元关系 {<x,y>|friend(x,y)},{<x,y>|lovers(x,y)}
  - 个体Individuals:一个领域内的实例 {Ming,Hong}

- 描述逻辑的知识库O:<T,A> T即TBox，A即ABox
- TBox包含内涵知识，描述概念的一般性质
  - 定义：引入概念以及关系的名称：如 Mother,Person,has_child
  - 包含：声明包含关系的公理：如 Mother $\sqsubseteq  \exists $ has_child.Person
- ABox包含外延知识（又称断言知识），描述论域中的特定个体
  - 概念断言——表示一个对象是否属于某个概念，如：Mother(Helen)
  - 关系断言——表示两个对象是否满足一定的关系，如：has_child(Helen,Jack)

#### 2 Horn Logic

是一阶谓词逻辑的子集，主要特点是表达形式简单，复杂度低。著名的Prolog语言就是基于Horn逻辑设计实现的

- 核心表达元素：
  - 原子Atoms：$p(t_1,t_2,\dots,t_n)$ p是谓词，$t_i$是项（变量或者常量）如：has_child(X,Y)
  - 规则Rules：由原子构建：H：$B_1,B_2,\dots,B_m$ h称为Head；B1,B2,...,Bm称为Body，如：has_child(X,Y):has_son(X,Y)
  - 事实Facts：没有体部且没有变量的规则，如：has_son(Helen,Jack)

#### 3 一阶谓词逻辑优缺点比较

- 优点：
  - 接近自然语言，容易被接受，且易于表示精确知识
  - 有严格的形式定义和推理规则，易于精确实现
- 缺点：
  - 无法表示不确定知识，难以表示启发性知识及元知识
  - 组合爆炸，经常出现事实、规则等的组合爆炸，导致效率低，推理复杂度通常较高
  - 是以人的逻辑为主导的表示方式，可能并不适合机器，机器可能有自己的逻辑表示

#### 4 产生式系统

产生式系统是一种更广泛意义的规则系统，专家系统多数是基于产生式系统：

- Feigenbaum研制的化学分子结构专家系统DENDRAL
- Shortliffe研制的诊断感染性疾病的专家系统MYCIN

产生式系统的核心表达形式：

- IF P THEN Q CF=[0,1],其中P是产生式的前提，Q是一组结论或操作，CF(Certainty Factor)为确定性因子，也称置信度
- IF 本微生物的染色斑是革兰氏阴性，本微生物的形状呈杆状，病人是中间宿主 THEN 该微生物是绿脓杆菌，置信度为CF=0.6

优点：

- 自然性：产生式系统采用人类常用的因果关系知识表示形式，既直观、自然，又便于进行推理。
- 模块性：产生式规则形式相同，易于模块化管理
- 有效性：能表示确定性知识、不确定性知识、启发性知识、过程性知识等
- 清晰性：产生式有固定的格式，既便于规则设计，又易于对规则库中的知识进行一致性、完整性检测

缺点：

- 效率不高：产生式系统求解问题的过程是一个反复进行“匹配——冲突消解——执行”的过程。而规则库一般都比较大，匹配又十分费时，因此其工作效率不高
- 在求解复杂问题时容易引起组合爆炸
- 不能表达结构性知识：产生式系统对具有结构关系的知识无能为力，它不能把具有结构关系的事物间的区别与联系表示出来

#### 5 框架系统

框架理论的基本思想：认为人们对现实世界中事物的认识都是以一种类似于框架的结构存储在记忆中的。当面临一个新事物时，就从记忆中找出一个合适的框架，并根据实际情况对其细节加以修改、补充，从而形成对当前事物的认识。框架系统在很多NLP任务如Dialogue系统中都有广泛应用。

基本表达要素：

- 框架：是一种描述对象（事物、事件或概念等）属性的数据结构
- 一个框架由若干个”槽“(Slot)结构组成，每个槽又可分为若干个”侧面“
- 一个槽：用于描述所论对象某一方面的属性
- 一个侧面：用于描述相应属性的一个方面
- 槽和侧面所具有的属性值分别称为槽值和侧面值

 ![image-20221221224043519](C:\Users\jyh\AppData\Roaming\Typora\typora-user-images\image-20221221224043519.png)

优点：

- 对于知识的额描述完整和全面
- 基于框架的知识库质量高
- 框架允许数值计算

缺点：

- 框架构建成本高，质量要求高
- 框架的表达形式不灵活，很难同其它形式的数据集相互关联使用

#### 6 语音网络

是一种以网络格式表达人类知识构造的形式。是[人工智能](https://baike.baidu.com/item/人工智能/9180?fromModule=lemma_inlink)程序运用的表示方式之一。由[奎林](https://baike.baidu.com/item/奎林/2555196?fromModule=lemma_inlink)(J. R. Quillian)于1968年提出。开始是作为人类联想记忆的一个明显公理模型提出，随后在[AI](https://baike.baidu.com/item/AI/25417?fromModule=lemma_inlink)中用于[自然语言理解](https://baike.baidu.com/item/自然语言理解/8465129?fromModule=lemma_inlink)，表示命题信息。在ES中语义网络由PROSPEUTOR实现，用于描述物体概念与状态及其间的关系。它是由结点和结点之间的弧组成，结点表示概念(事件、事物)，弧表示它们之间的关系。在数学上语义网络是一个[有向图](https://baike.baidu.com/item/有向图/1852743?fromModule=lemma_inlink)，与逻辑表示法对应。

![image-20221221233015741](C:\Users\jyh\AppData\Roaming\Typora\typora-user-images\image-20221221233015741.png)

优点：

- 结构性：语义网络是一种结构化的知识表示方法，它能把事物的属性以及事物间的各种语义联想显式地表示出来
- 联想性：最初是作为人类联想记忆模型提出来的
- 自然性：直观地把事物的属性及其语义联系表示出来，便于理解，自然语言与语义网络的转换比较容易实现，故语义网络表示法在自然语言理解系统中应用最为广泛

缺点：

- 非严格性：语义网络没有公认的形式表示体系。一个给定的语义网络所表达的含义完全依赖于处理程序如何对它进行解释
- 通过推理网络而实现的推理不能保证其正确性。支持全程量词和存在量词的语义网络在逻辑上式不充分的，不能保证不存在二义性
- 处理上的复杂性：语义网络表示知识的手段多种多样，灵活性高，但由于表示形式不一致使得处理复杂性高，对知识的检索相对复杂

### 1.2.2 知识图谱的符号表示方法

#### 1 属性图

属性图是图数据库Neo4J实现的图结构表示模型，在工业界有广泛应用。

属性图的有点事表达方式比较灵活，例如：它允许为边增加属性，非常便于表示多元关系

属性图的存储充分利用图的结构进行优化，因而在查询计算方面具有较高优势

属性图的缺点是缺乏工业标准规范的支持，由于不关注更深层的语义表达，也不支持符号逻辑推理

![image-20221221234248535](C:\Users\jyh\AppData\Roaming\Typora\typora-user-images\image-20221221234248535.png)

在属性图的术语中，属性图是由顶点（Vertex），边（Edge），标签（Label），关系类型还有属性（Property）组成的有向图。

顶点也称为节点(Node)，边也称为关系(Relationship)

- 在属性图中，节点和关系是最重要的实体。节点上包含属性，属性可以以任意键值形式存在

- 关系连接节点，每个关系都拥有一个方向、一个标签、一个开始节点和结束节点。关系的方向的标签使得属性图具有语义化特征。

- 和节点一样，关系也可以有属性，即边属性，可以通过在关系上增加属性给图算法提供有关边的元信息，如创建时间等，此外还可以通过边属性为边增加权重和特性等其他额外语义。

#### 2 rdf（Resource Description Framework）

defines small vocabulary for RDF:

Clss,subClassOf,type,Property,subPropertyOf,Domain,Range

![image-20221221235758465](C:\Users\jyh\AppData\Roaming\Typora\typora-user-images\image-20221221235758465.png)

#### 3 OWl extands RDF schema(本体语言标准)

- Complex Class:intersection,union and complement
- Property Restrictions:existential quantification,universal quantification,hasValue
- Cardinality Restrictions:maxQulifiedCardinality,minQualifiedCardinality,qualifiedCardinality
- Property Characteristics:inverseOf,SymmetricProperty,AsymmetricProperty,propertyDisjointWith,ReflexiveProperty,FunctionalProperty
- Property Chains

![image-20221222000640093](C:\Users\jyh\AppData\Roaming\Typora\typora-user-images\image-20221222000640093.png)

![image-20221222000802430](C:\Users\jyh\AppData\Roaming\Typora\typora-user-images\image-20221222000802430.png)

![image-20221222000846958](C:\Users\jyh\AppData\Roaming\Typora\typora-user-images\image-20221222000846958.png)

![image-20221222000916747](C:\Users\jyh\AppData\Roaming\Typora\typora-user-images\image-20221222000916747.png)

#### 4 总结

- 属性图是工业界最常用的图谱建模方法，属性图数据库充分利用图结构特点做了性能优化，实用度高，但不支持符号推理。
- RDF是W3C推动的语义数据交换标准与规范，有更严格的语义逻辑基础，支持推理，并兼容更复杂的本体表示语言OWL。
- 在三元组无法满足语义表示需要时，OWL作为一种完备的本体语言，提供了更多可供使用的语义表达构件。
- 描述逻辑可以为知识图谱的表示与建模提供理论基础。描述逻辑之于知识图谱，好比关系代数之于关系数据库。

### 1.2.3 知识图谱的向量表示